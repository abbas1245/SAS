<!-- app/views/shared/_navbar.html.erb -->
<nav class="bg-gray-900 text-white shadow-lg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16">
      <div class="flex items-center">
        <!-- Logo -->
        <div class="flex-shrink-0 flex items-center">
          <svg class="h-8 w-auto" viewBox="0 0 100 40" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 8 L25 8 L25 32 L15 32 Z" fill="#6366F1" />
            <path d="M0 8 C0 8 12 8 15 8 C18 8 18 14 15 14 C12 14 0 14 0 14 Z" fill="#6366F1" />
            <path d="M0 20 C0 20 12 20 15 20 C18 20 18 26 15 26 C12 26 0 26 0 26 Z" fill="#6366F1" />
            <path d="M30 8 C30 8 37 8 40 8 C50 8 50 20 40 20 C37 20 30 20 30 20 Z" fill="#6366F1" />
            <path d="M30 20 C30 20 37 20 40 20 C50 20 50 32 40 32 C37 32 30 32 30 32 Z" fill="#6366F1" />
            <path d="M55 8 C55 8 62 8 65 8 C75 8 75 32 65 32 C62 32 55 32 55 32 Z" fill="#6366F1" />
          </svg>
        </div>
        
        <!-- Desktop Navigation -->
        <div class="hidden md:ml-6 md:flex md:space-x-8">
          <%= link_to "Home", root_path, class: "inline-flex items-center px-1 pt-1 border-b-2 border-indigo-500 text-sm font-medium leading-5 text-white focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out" %>
          <%= link_to "Features", "#", class: "inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-300 hover:text-white hover:border-gray-300 focus:outline-none focus:text-white focus:border-gray-300 transition duration-150 ease-in-out" %>
          <%= link_to "Pricing", "#", class: "inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-300 hover:text-white hover:border-gray-300 focus:outline-none focus:text-white focus:border-gray-300 transition duration-150 ease-in-out" %>
          <%= link_to "About", "#", class: "inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-300 hover:text-white hover:border-gray-300 focus:outline-none focus:text-white focus:border-gray-300 transition duration-150 ease-in-out" %>
        </div>
      </div>
      
      <!-- Right side navigation -->
      <div class="flex items-center">
        <div class="hidden md:flex md:items-center md:ml-6">
          <%= link_to "Log in", "#", class: "inline-flex items-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-gray-800 hover:bg-gray-700 focus:outline-none focus:border-gray-700 focus:shadow-outline-gray active:bg-gray-700 transition ease-in-out duration-150" %>
          <%= link_to "Sign up", "#", class: "ml-3 inline-flex items-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition ease-in-out duration-150" %>
        </div>
        
        <!-- Mobile menu button -->
        <div class="flex items-center md:hidden">
          <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:bg-gray-700 focus:text-white transition duration-150 ease-in-out" aria-label="Main menu" aria-expanded="false">
            <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
            <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Mobile menu, show/hide based on menu state. -->
  <div id="mobile-menu" class="hidden md:hidden">
    <div class="pt-2 pb-3 space-y-1">
      <%= link_to "Home", root_path, class: "block pl-3 pr-4 py-2 border-l-4 border-indigo-500 text-base font-medium text-white bg-indigo-900 focus:outline-none focus:text-white focus:bg-indigo-900 focus:border-indigo-700 transition duration-150 ease-in-out" %>
      <%= link_to "Features", "#", class: "block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 hover:border-gray-300 focus:outline-none focus:text-white focus:bg-gray-700 focus:border-gray-300 transition duration-150 ease-in-out" %>
      <%= link_to "Pricing", "#", class: "block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 hover:border-gray-300 focus:outline-none focus:text-white focus:bg-gray-700 focus:border-gray-300 transition duration-150 ease-in-out" %>
      <%= link_to "About", "#", class: "block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 hover:border-gray-300 focus:outline-none focus:text-white focus:bg-gray-700 focus:border-gray-300 transition duration-150 ease-in-out" %>
    </div>
    <div class="pt-4 pb-3 border-t border-gray-700">
      <div class="flex items-center px-4">
        <%= link_to "Log in", "#", class: "block w-full text-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-gray-800 hover:bg-gray-700 focus:outline-none focus:border-gray-700 focus:shadow-outline-gray active:bg-gray-700 transition ease-in-out duration-150" %>
      </div>
      <div class="mt-3 flex items-center px-4">
        <%= link_to "Sign up", "#", class: "block w-full text-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition ease-in-out duration-150" %>
      </div>
    </div>
  </div>
</nav>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    
    mobileMenuButton.addEventListener('click', () => {
      const expanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
      mobileMenuButton.setAttribute('aria-expanded', !expanded);
      mobileMenu.classList.toggle('hidden');
      
      // Toggle the hamburger/x icon
      mobileMenuButton.querySelector('svg.block').classList.toggle('hidden');
      mobileMenuButton.querySelector('svg.hidden').classList.toggle('hidden');
    });
  });
</script>